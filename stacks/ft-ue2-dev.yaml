import:
  - globals/ue2-globals
  # All catalog defaults
  - catalog/terraform/tfstate-backend
  - catalog/terraform/account # FIXME: remove all account and organization and try again...
  - catalog/terraform/account-map
  - catalog/terraform/iam-primary-roles
  - catalog/terraform/vpc

# Global variables
vars:
  stage: dev

terraform:
  vars: {}
  # This part only enable after we run the workflow.init step
  # atmos workflow init -f ft
  backend:
    s3:
      bucket: ft-ue2-dev-tfstate
      dynamodb_table: ft-ue2-dev-tfstate-lock

helmfile:
  vars: {}

# Override values from defaults on catalog
components:
  terraform:
    account:
      vars:
        account_email_format: aws+%s@foxtech.com.vn
        organization_enabled: false
        organization_config:
          root_account_stage_name: root
          root_account:
            name: root
    vpc:
      vars:
        cidr_block: 10.10.0.0/18